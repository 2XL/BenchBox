##
### Basic Defaults
##

# Comma separated list of ip addresses to listen on (all local ips by default)
bind_ip = <%= @bind_ip %>

# Specify port number (27017 by default)
<% if @port != '27017' -%>
port = <%= @port %>
<% else -%>
#port = 27017
<% end -%>

# Fork server process (false by default)
fork = true

# Full path to pidfile (if not set, no pidfile is created)
pidfilepath = <%= @pidfilepath %>

# Log file to send write to instead of stdout - has to be a file, not directory
logpath = <%= @logpath %>

# Alternative directory for UNIX domain sockets (defaults to /tmp)
unixSocketPrefix = /var/run/mongodb

# Directory for datafiles (defaults to /data/db/)
dbpath = <%= @dbpath %>

# Enable/Disable journaling (journaling is on by default for 64 bit)
#journal = true
#nojournal = true



##
### General options
##

# Be more verbose (include multiple times for more verbosity e.g. -vvvvv) (v by default)
<% if @verbose -%>
verbose = <%= @verbose %>
<% else -%>
#verbose = v
<% end -%>

# Max number of simultaneous connections (1000000 by default)
#maxConns = 1000000              

# Log to system's syslog facility instead of file or stdout (false by default)
#syslog = true

# Syslog facility used for monogdb syslog message (user by defautl)
#syslogFacility = user

# Append to logpath instead of over-writing (false by default)
#logappend = true

# Desired format for timestamps in log messages (One of ctime, iso8601-utc or iso8601-local) (iso8601-local by default)
#timeStampFormat = arg  

# Private key for cluster authentication
<% if @keyfile -%>
keyFile = <%= @keyfile %>
<% else -%>
#keyFile = arg
<% end -%>

# Set a configurable parameter
#setParameter = arg

# Enable http interface (false by default)
#httpinterface = true

# Authentication mode used for cluster authentication. Alternatives are (keyFile|sendKeyFile|sendX509|x509) (keyFile by default)
#clusterAuthMode = arg

# Disable listening on unix sockets (false by default)
#nounixsocket = true

# Run with/without security (without by default)
<% if @auth == 'true' -%>
auth = true
<% else -%>
#auth = true
<% end -%>
#noauth = true

# Enable IPv6 support (disabled by default)
#ipv6 = true

# Allow JSONP access via http (has security implications) (false by default)
#jsonp = true

# Turn on simple rest api (false by default)
<% if @rest -%>
rest = <%= @rest %>
<% else -%>
#rest = true
<% end -%>

# Value of slow for profile and console log (100 by default)
#slowms = 100

# 0=off 1=slow, 2=all (0 by default)
#profile = 0

# Periodically show cpu and iowait utilization (false by default)
#cpu = true

# Print some diagnostic system information (false by default)
#sysinfo = true

# Each database will be stored in a separate directory (false by default)
#directoryperdb = true

# Don't retry any index builds that were interrupted by shutdown (false by default)
#noIndexBuildRetry = true

# Disable data file preallocation - will often hurt performance (false by default)
#noprealloc = true

# .ns file size (in MB) for new databases (16 MB by default)
#nssize = 16

# Limits each database to a certain number of files (8 default)
<% if @quota -%>
quota = <%= @quota %>
<% else -%>
#quota
<% end -%>

# Number of files allowed per db, implies --quota (8 by default)
#quotaFiles = 8

# Use a smaller default file size (false by default)
<% if @smallfiles -%>
smallfiles = <%= @smallfiles %>
<% else -%>
#smallfiles = true
<% end -%>

# Seconds between disk syncs (0=never, but not recommended) (60 by default)
#syncdelay = 60

# Upgrade db if needed (false by default)
#upgrade = true

# Run repair on all dbs (false by default)
#repair = true

# Root directory for repair files (defaults to dbpath)
#repairpath = arg

# Disable scripting engine (false by default)
#noscripting = true

# Do not allow table scans (false by default)
#notablescan = true

# Journal diagnostic options (0 by default)
#journalOptions = 0

# How often to group/batch commit (ms) (100 or 30 by default)
#journalCommitInterval = 100 



##
### Replication options
##

# Size to use (in MB) for replication op log (default 5% of disk space - i.e. large is good)
<% if @oplogsize -%>
oplogSize = <%= @oplogsize %>
<% else -%>
#oplogSize = arg
<% end -%>



##
### Master/slave options (old; use replica sets instead)
##

# Master mode
<% if @master -%>
master = <%= @master %>
<% else -%>
#master = true
<% end -%>

# Slave mode
<% if @slave -%>
slave = <%= @slave %>
<% else -%>
#slave = true
<% end -%>

# When slave: specify master as <server:port>
<% if @slave and @source -%>
source = <%= @source %>
<% else -%>
#source = arg
<% end -%>

# When slave: specify a single database to replicate
<% if @slave and @only -%>
only = <%= @only %>
<% else -%>
#only = arg
<% end -%>

# Specify delay (in seconds) to be used when applying master ops to slave
#slavedelay = arg

# Automatically resync if slave data is stale
<% if @autoresync -%>
autoresync = <%= @autoresync %>
<% else -%>
#autoresync = true
<% end -%>



##
### Replica set options
##

# Arg is <setname>[/<optionalseedhostlist>]
<% if @replset -%>
replSet = <%= @replset %>
<% else -%>
#replSet = arg
<% end -%>

# Specify index prefetching behavior (if secondary) [none|_id_only|all] (all by default)
#replIndexPrefetch = all



##
### Sharding options
##

# Declare this is a config db of a cluster (default port 27019; default dir /data/configdb) (false by default)
#configsvr = true

# Declare this is a shard db of a cluster (default port 27018)  (false by default)
#shardsvr = true



##
### SSL options
##

# Use ssl on configured ports
#sslOnNormalPorts = true

# Set the SSL operation mode (disabled|allowSSL|preferSSL|requireSSL)
# sslMode = arg

# PEM file for ssl
#sslPEMKeyFile = arg

# PEM file password
#sslPEMKeyPassword = arg

# Key file for internal SSL authentication
#sslClusterFile = arg

# Internal authentication key file password
#sslClusterPassword = arg

# Certificate Authority file for SSL
#sslCAFile = arg

# Certificate Revocation List file for SSL
#sslCRLFile = arg

# Allow client to connect without presenting a certificate
#sslWeakCertificateValidation = true

# Allow server certificates to provide non-matching hostnames
#sslAllowInvalidHostnames = true

# Allow connections to servers with invalid certificates
#sslAllowInvalidCertificates = true

# Activate FIPS 140-2 mode at startup
#sslFIPSMode = true

<% if !@extra_options.empty? -%>
# Extra options
<% @extra_options.sort_by {|key, value| key}.each do |key,value| -%>
<%= key %> = <%= value %>
<% end -%>

<% end -%>
